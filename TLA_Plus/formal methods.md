## 软件可靠性

软件可靠性取决于两方面：
* 软件开发的方法与过程
* 软件产品的测试与验证

采用形式化方法对系统进行验证和分析，是构造安全可信软件的一个重要途径。

## 验证工程
A.Pnueli在其图灵奖演说中提出“验证工程”正在形成。
1. 对并发、实时与混合系统的计算模型和语义理论的研究深化，形式规约和验证方法被相继提出。
2. 模型检测的理论与技术取得突破性进展，目前已能处理10的200次方的系统。
3. 高效、友好的分析和验证工具。


## 发展历程
什么是形式化方法？
有严格数学基础的软件和系统开发方法，支持计算机系统及软件的规约、设计、验证与演化等活动。

针对60年代“软件危机”提出两种方法：
* 采用工程方法来组织、管理软件的开发过程；
* 深入探讨程序和程序开发过程的规律，建立严密的理论，以期能用来指导软件开发实践。

前者导致“软件工程”的出现和发展，后者则推动了形式化方法的深入研究。

形式化方法能在系统开发的早期发现系统中的不一致、歧义、不完全和错误，已被证明是一种行之有效的减少设计错误、提高软件系统可信性的重要途径。

# 基本内容
基本内容包括：
* 系统建模。通过构造系统S的模型M来描述系统及其行为模式。
* 形式规约。通过定义系统S必须满足的一些属性ψ，如：安全性、活性等来描述系统约束。
* 形式验证。证明描述系统S行为的模型M确实满足系统形式规约ψ（即验证M|=ψ）。

## 系统建模

串行系统：从初始态到终止态的系统
特征：顺序性、封闭性、可再现性

并发系统：系统内发生的两个事件间没有因果关系或可以按任意次序发生，则称这两个事件是并发的，存在并发事件的系统称为并发系统。
特征：不确定性、并发性

并发模型的建立：
* 需捕获到系统与正确性有关的行为特征
* 简化和缩小被检测系统，不是验证过于复杂，模型抽象时应该去掉一些不影响正确性的属性。

并发系统模型举例：迁移系统、自动机、Petri网及基于进程代数的CSP、CCS等。

## 形式规约
确定“做什么”，而清晰、简明、一致且无歧义的方式。非“怎么做”。

需求规约就是一种以清晰、简明、一致且无歧义的方式，刻画客户或用户所需系统中所有重要方面的一组陈述

* 规约是客户或用户与软件开发人员之间的接口界面，可看作一种契约合同；
* 规约也是设计和编写程序的出发点和验证程序是否正确的依据。

### 三种规约描述

* 非形式化：采用自然语言描述系统。易于理解，但存在二义性、不完备、无法自动化等问题。
* 半形式化：
* 形式化：使用具有精准语义形式化语言描述系统属性。一致性、完备性。

### 并发系统规约
时序逻辑：关于随着时间变化而不断改变其值的动态变元（时序变元）的一种模态逻辑。除了经典的逻辑联结词和量词外，还包含一些时序算子。

#### 并发系统属性

* 安全性：坏事永远不会发生，如：部分正确性、互斥性、无死锁性
* 活性：好事终将发生，如：终止性、完全正确性、响应性等。

## 形式验证
形式验证分为两类：
* 以逻辑推理为基础的演绎验证
* 以穷尽搜索为基础的模型检测

### 演绎证明
用逻辑公式描述系统性质，通过一些公理或推理规则来证明系统具有某些性质。

优点：
既可验证有穷状态系统，也可使用归纳法来处理无限状态问题。
缺点：
不能做到完全自动化验证。

### 模型检测
通过搜索待验证系统模型的有穷状态空间来检验该系统的行为是否具备预期属性的一种自动验证技术。

关键问题：如何有效缓解“状态空间爆炸”：
* 基于简化全局状态空间
* 基于检测局部状态空间

主要方法有：
* 符号模型检测
* 有界模型检测
* 对称模型检测
* 偏序模型检测
* On-the-fly模型检测
* 抽象与组合方法
